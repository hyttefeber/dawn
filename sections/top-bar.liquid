<section class="top-bar color-{{ block.settings.color_scheme }}">
  <div class="top-bar__wrapper page-width--narrow " role="region" {{ block.shopify_attributes }}>
    {%- for block in section.blocks -%}
      {%- case block.type -%}
        {%- when 'heading' -%}
          <div class="top-bar__icon  {% if block.settings.mobile-visibility %} top-bar__icon--hide {% endif %}">
            <a href="{{ block.settings.url }}"><img src="{{ block.settings.icon | img_url: '60x'}}" alt="{{ block.settings.text | escape }}" height="{{block.settings.icon.height}}" width="{{block.settings.icon.width}}" loading="eager">
            <span>{{ block.settings.text | escape }}</span>
    </div></a>
      {%- endcase -%}
    {%- endfor -%}
  </div>
</section>


{% schema %}

{
  "name": "Top bar",
  "max_blocks": 12,
  "blocks": [
    {
      "type": "heading",
      "name": "Icon with text",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        }, {
          "type": "text",
          "id": "text",
          "label": "Text"
        },{
          "type": "url",
          "id": "url",
          "label": "Link"
        },{
          "type": "checkbox",
          "id": "mobile-visibility",
          "label": "Hide on mobile",
          "default": false,
          "info": "Select if this icon is to be hidden on mobile devices"
        }
      ]
    }
  ]
}

{% endschema %}
